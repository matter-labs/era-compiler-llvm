; RUN: opt -early-cse -S < %s | FileCheck %s

target triple = "eravm"

declare i256 @__sar(i256, i256) #0

define i256 @test_sar1() {
; CHECK-LABEL: @test_sar1
; CHECK-NEXT: ret i256 poison

  %res = call i256 @__sar(i256 undef, i256 1)
  ret i256 %res
}

define i256 @test_sar2() {
; CHECK-LABEL: @test_sar2
; CHECK-NEXT: ret i256 poison

  %res = call i256 @__sar(i256 1, i256 undef)
  ret i256 %res
}

define i256 @test_sar3() {
; CHECK-LABEL: @test_sar3
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 0, i256 0)
  ret i256 %res
}

define i256 @test_sar4() {
; CHECK-LABEL: @test_sar4
; CHECK-NEXT: ret i256 1

  %res = call i256 @__sar(i256 0, i256 1)
  ret i256 %res
}

define i256 @test_sar5() {
; CHECK-LABEL: @test_sar5
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 0, i256 -1)
  ret i256 %res
}

define i256 @test_sar6() {
; CHECK-LABEL: @test_sar6
; CHECK-NEXT: ret i256 37670211480306196047687443673641227745170897112008692523754794019498533073987

  %res = call i256 @__sar(i256 0, i256 37670211480306196047687443673641227745170897112008692523754794019498533073987)
  ret i256 %res
}

define i256 @test_sar7() {
; CHECK-LABEL: @test_sar7
; CHECK-NEXT: ret i256 -632574534856236475345634624374238423192181237123712631236123123

  %res = call i256 @__sar(i256 0, i256 -632574534856236475345634624374238423192181237123712631236123123)
  ret i256 %res
}

define i256 @test_sar8() {
; CHECK-LABEL: @test_sar8
; CHECK-NEXT: ret i256 57896044618658097711785492504343953926634992332820282019728792003956564819967

  %res = call i256 @__sar(i256 0, i256 57896044618658097711785492504343953926634992332820282019728792003956564819967)
  ret i256 %res
}

define i256 @test_sar9() {
; CHECK-LABEL: @test_sar9
; CHECK-NEXT: ret i256 -57896044618658097711785492504343953926634992332820282019728792003956564819968

  %res = call i256 @__sar(i256 0, i256 -57896044618658097711785492504343953926634992332820282019728792003956564819968)
  ret i256 %res
}

define i256 @test_sar10() {
; CHECK-LABEL: @test_sar10
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 1, i256 0)
  ret i256 %res
}

define i256 @test_sar11() {
; CHECK-LABEL: @test_sar11
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 1, i256 1)
  ret i256 %res
}

define i256 @test_sar12() {
; CHECK-LABEL: @test_sar12
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 1, i256 -1)
  ret i256 %res
}

define i256 @test_sar13() {
; CHECK-LABEL: @test_sar13
; CHECK-NEXT: ret i256 18835105740153098023843721836820613872585448556004346261877397009749266536993

  %res = call i256 @__sar(i256 1, i256 37670211480306196047687443673641227745170897112008692523754794019498533073987)
  ret i256 %res
}

define i256 @test_sar14() {
; CHECK-LABEL: @test_sar14
; CHECK-NEXT: ret i256 -316287267428118237672817312187119211596090618561856315618061562

  %res = call i256 @__sar(i256 1, i256 -632574534856236475345634624374238423192181237123712631236123123)
  ret i256 %res
}

define i256 @test_sar15() {
; CHECK-LABEL: @test_sar15
; CHECK-NEXT: ret i256 28948022309329048855892746252171976963317496166410141009864396001978282409983

  %res = call i256 @__sar(i256 1, i256 57896044618658097711785492504343953926634992332820282019728792003956564819967)
  ret i256 %res
}

define i256 @test_sar16() {
; CHECK-LABEL: @test_sar16
; CHECK-NEXT: ret i256 -28948022309329048855892746252171976963317496166410141009864396001978282409984

  %res = call i256 @__sar(i256 1, i256 -57896044618658097711785492504343953926634992332820282019728792003956564819968)
  ret i256 %res
}

define i256 @test_sar17() {
; CHECK-LABEL: @test_sar17
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 40, i256 0)
  ret i256 %res
}

define i256 @test_sar18() {
; CHECK-LABEL: @test_sar18
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 40, i256 1)
  ret i256 %res
}

define i256 @test_sar19() {
; CHECK-LABEL: @test_sar19
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 40, i256 -1)
  ret i256 %res
}

define i256 @test_sar20() {
; CHECK-LABEL: @test_sar20
; CHECK-NEXT: ret i256 34260857756004221344198816653844212619488550546528761082076738620

  %res = call i256 @__sar(i256 40, i256 37670211480306196047687443673641227745170897112008692523754794019498533073987)
  ret i256 %res
}

define i256 @test_sar21() {
; CHECK-LABEL: @test_sar21
; CHECK-NEXT: ret i256 -575323187928221591706128151030714819346195542606177

  %res = call i256 @__sar(i256 40, i256 -632574534856236475345634624374238423192181237123712631236123123)
  ret i256 %res
}

define i256 @test_sar22() {
; CHECK-LABEL: @test_sar22
; CHECK-NEXT: ret i256 52656145834278593348959013841835216159447547700274555627155488767

  %res = call i256 @__sar(i256 40, i256 57896044618658097711785492504343953926634992332820282019728792003956564819967)
  ret i256 %res
}

define i256 @test_sar23() {
; CHECK-LABEL: @test_sar23
; CHECK-NEXT: ret i256 -52656145834278593348959013841835216159447547700274555627155488768

  %res = call i256 @__sar(i256 40, i256 -57896044618658097711785492504343953926634992332820282019728792003956564819968)
  ret i256 %res
}

define i256 @test_sar24() {
; CHECK-LABEL: @test_sar24
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 171, i256 0)
  ret i256 %res
}

define i256 @test_sar25() {
; CHECK-LABEL: @test_sar25
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 171, i256 1)
  ret i256 %res
}

define i256 @test_sar26() {
; CHECK-LABEL: @test_sar26
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 171, i256 -1)
  ret i256 %res
}

define i256 @test_sar27() {
; CHECK-LABEL: @test_sar27
; CHECK-NEXT: ret i256 12585451483284036284784745

  %res = call i256 @__sar(i256 171, i256 37670211480306196047687443673641227745170897112008692523754794019498533073987)
  ret i256 %res
}

define i256 @test_sar28() {
; CHECK-LABEL: @test_sar28
; CHECK-NEXT: ret i256 -211340361659

  %res = call i256 @__sar(i256 171, i256 -632574534856236475345634624374238423192181237123712631236123123)
  ret i256 %res
}

define i256 @test_sar29() {
; CHECK-LABEL: @test_sar29
; CHECK-NEXT: ret i256 19342813113834066795298815

  %res = call i256 @__sar(i256 171, i256 57896044618658097711785492504343953926634992332820282019728792003956564819967)
  ret i256 %res
}

define i256 @test_sar30() {
; CHECK-LABEL: @test_sar30
; CHECK-NEXT: ret i256 -19342813113834066795298816

  %res = call i256 @__sar(i256 171, i256 -57896044618658097711785492504343953926634992332820282019728792003956564819968)
  ret i256 %res
}

define i256 @test_sar31() {
; CHECK-LABEL: @test_sar31
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 254, i256 0)
  ret i256 %res
}

define i256 @test_sar32() {
; CHECK-LABEL: @test_sar32
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 254, i256 1)
  ret i256 %res
}

define i256 @test_sar33() {
; CHECK-LABEL: @test_sar33
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 254, i256 -1)
  ret i256 %res
}

define i256 @test_sar34() {
; CHECK-LABEL: @test_sar34
; CHECK-NEXT: ret i256 1

  %res = call i256 @__sar(i256 254, i256 37670211480306196047687443673641227745170897112008692523754794019498533073987)
  ret i256 %res
}

define i256 @test_sar35() {
; CHECK-LABEL: @test_sar35
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 254, i256 -632574534856236475345634624374238423192181237123712631236123123)
  ret i256 %res
}

define i256 @test_sar36() {
; CHECK-LABEL: @test_sar36
; CHECK-NEXT: ret i256 1

  %res = call i256 @__sar(i256 254, i256 57896044618658097711785492504343953926634992332820282019728792003956564819967)
  ret i256 %res
}

define i256 @test_sar37() {
; CHECK-LABEL: @test_sar37
; CHECK-NEXT: ret i256 -2

  %res = call i256 @__sar(i256 254, i256 -57896044618658097711785492504343953926634992332820282019728792003956564819968)
  ret i256 %res
}

define i256 @test_sar38() {
; CHECK-LABEL: @test_sar38
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 255, i256 0)
  ret i256 %res
}

define i256 @test_sar39() {
; CHECK-LABEL: @test_sar39
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 255, i256 1)
  ret i256 %res
}

define i256 @test_sar40() {
; CHECK-LABEL: @test_sar40
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 255, i256 -1)
  ret i256 %res
}

define i256 @test_sar41() {
; CHECK-LABEL: @test_sar41
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 255, i256 37670211480306196047687443673641227745170897112008692523754794019498533073987)
  ret i256 %res
}

define i256 @test_sar42() {
; CHECK-LABEL: @test_sar42
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 255, i256 -632574534856236475345634624374238423192181237123712631236123123)
  ret i256 %res
}

define i256 @test_sar43() {
; CHECK-LABEL: @test_sar43
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 255, i256 57896044618658097711785492504343953926634992332820282019728792003956564819967)
  ret i256 %res
}

define i256 @test_sar44() {
; CHECK-LABEL: @test_sar44
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 255, i256 -57896044618658097711785492504343953926634992332820282019728792003956564819968)
  ret i256 %res
}

define i256 @test_sar45() {
; CHECK-LABEL: @test_sar45
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 256, i256 0)
  ret i256 %res
}

define i256 @test_sar46() {
; CHECK-LABEL: @test_sar46
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 256, i256 1)
  ret i256 %res
}

define i256 @test_sar47() {
; CHECK-LABEL: @test_sar47
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 256, i256 -1)
  ret i256 %res
}

define i256 @test_sar48() {
; CHECK-LABEL: @test_sar48
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 256, i256 37670211480306196047687443673641227745170897112008692523754794019498533073987)
  ret i256 %res
}

define i256 @test_sar49() {
; CHECK-LABEL: @test_sar49
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 256, i256 -632574534856236475345634624374238423192181237123712631236123123)
  ret i256 %res
}

define i256 @test_sar50() {
; CHECK-LABEL: @test_sar50
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 256, i256 57896044618658097711785492504343953926634992332820282019728792003956564819967)
  ret i256 %res
}

define i256 @test_sar51() {
; CHECK-LABEL: @test_sar51
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 256, i256 -57896044618658097711785492504343953926634992332820282019728792003956564819968)
  ret i256 %res
}

define i256 @test_sar52() {
; CHECK-LABEL: @test_sar52
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 35242523534534534233424343343443, i256 0)
  ret i256 %res
}

define i256 @test_sar53() {
; CHECK-LABEL: @test_sar53
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 35242523534534534233424343343443, i256 1)
  ret i256 %res
}

define i256 @test_sar54() {
; CHECK-LABEL: @test_sar54
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 35242523534534534233424343343443, i256 -1)
  ret i256 %res
}

define i256 @test_sar55() {
; CHECK-LABEL: @test_sar55
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 35242523534534534233424343343443, i256 37670211480306196047687443673641227745170897112008692523754794019498533073987)
  ret i256 %res
}

define i256 @test_sar56() {
; CHECK-LABEL: @test_sar56
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 35242523534534534233424343343443, i256 -632574534856236475345634624374238423192181237123712631236123123)
  ret i256 %res
}

define i256 @test_sar57() {
; CHECK-LABEL: @test_sar57
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 35242523534534534233424343343443, i256 57896044618658097711785492504343953926634992332820282019728792003956564819967)
  ret i256 %res
}

define i256 @test_sar58() {
; CHECK-LABEL: @test_sar58
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 35242523534534534233424343343443, i256 -57896044618658097711785492504343953926634992332820282019728792003956564819968)
  ret i256 %res
}

define i256 @test_sar59() {
; CHECK-LABEL: @test_sar59
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 -1, i256 0)
  ret i256 %res
}

define i256 @test_sar60() {
; CHECK-LABEL: @test_sar60
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 -1, i256 1)
  ret i256 %res
}

define i256 @test_sar61() {
; CHECK-LABEL: @test_sar61
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 -1, i256 -1)
  ret i256 %res
}

define i256 @test_sar62() {
; CHECK-LABEL: @test_sar62
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 -1, i256 37670211480306196047687443673641227745170897112008692523754794019498533073987)
  ret i256 %res
}

define i256 @test_sar63() {
; CHECK-LABEL: @test_sar63
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 -1, i256 -632574534856236475345634624374238423192181237123712631236123123)
  ret i256 %res
}

define i256 @test_sar64() {
; CHECK-LABEL: @test_sar64
; CHECK-NEXT: ret i256 0

  %res = call i256 @__sar(i256 -1, i256 57896044618658097711785492504343953926634992332820282019728792003956564819967)
  ret i256 %res
}

define i256 @test_sar65() {
; CHECK-LABEL: @test_sar65
; CHECK-NEXT: ret i256 -1

  %res = call i256 @__sar(i256 -1, i256 -57896044618658097711785492504343953926634992332820282019728792003956564819968)
  ret i256 %res
}

attributes #0 = { nounwind readnone willreturn }
