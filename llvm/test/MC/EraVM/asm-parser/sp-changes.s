; RUN: llvm-mc -triple eravm -filetype=asm %s -o - | FileCheck %s

  .text
foo:

; canonical NOP: three R0 operands
  nop
  nop.lt
; the same in generic form
  nop       r0, r0, r0
  nop.lt    r0, r0, r0

; incsp: inputs are r0, output is stack+=[...]
  incsp     r0 + 0
  incsp     r1
  incsp     42
  incsp     r1 + 42
  incsp.lt  r0 + 0
  incsp.lt  r1
  incsp.lt  42
  incsp.lt  r1 + 42
; the same in generic form
  nop       r0, r0, stack+=[r0 + 0]
  nop       r0, r0, stack+=[r1]
  nop       r0, r0, stack+=[42]
  nop       r0, r0, stack+=[r1 + 42]
  nop.lt    r0, r0, stack+=[r0 + 0]
  nop.lt    r0, r0, stack+=[r1]
  nop.lt    r0, r0, stack+=[42]
  nop.lt    r0, r0, stack+=[r1 + 42]

; decsp: first input is stack-=[...], output and second input are r0
  decsp     r0 + 0
  decsp     r1
  decsp     42
  decsp     r1 + 42
  decsp.lt  r0 + 0
  decsp.lt  r1
  decsp.lt  42
  decsp.lt  r1 + 42
; the same in generic form
  nop       stack-=[r0 + 0], r0, r0
  nop       stack-=[r1], r0, r0
  nop       stack-=[42], r0, r0
  nop       stack-=[r1 + 42], r0, r0
  nop.lt    stack-=[r0 + 0], r0, r0
  nop.lt    stack-=[r1], r0, r0
  nop.lt    stack-=[42], r0, r0
  nop.lt    stack-=[r1 + 42], r0, r0

; COM: Autogenerated checks below, see README.md.
; COM: Manually added {{$}} to prevent matching the generic form.
; CHECK:  .text
; CHECK:foo:

; CHECK:  nop{{$}}
; CHECK:  nop.lt{{$}}
; CHECK:  nop{{$}}
; CHECK:  nop.lt{{$}}

; CHECK:  incsp r0
; CHECK:  incsp r1
; CHECK:  incsp 42
; CHECK:  incsp r1+42
; CHECK:  incsp.lt      r0
; CHECK:  incsp.lt      r1
; CHECK:  incsp.lt      42
; CHECK:  incsp.lt      r1+42
; CHECK:  incsp r0
; CHECK:  incsp r1
; CHECK:  incsp 42
; CHECK:  incsp r1+42
; CHECK:  incsp.lt      r0
; CHECK:  incsp.lt      r1
; CHECK:  incsp.lt      42
; CHECK:  incsp.lt      r1+42

; CHECK:  decsp r0
; CHECK:  decsp r1
; CHECK:  decsp 42
; CHECK:  decsp r1+42
; CHECK:  decsp.lt      r0
; CHECK:  decsp.lt      r1
; CHECK:  decsp.lt      42
; CHECK:  decsp.lt      r1+42
; CHECK:  decsp r0
; CHECK:  decsp r1
; CHECK:  decsp 42
; CHECK:  decsp r1+42
; CHECK:  decsp.lt      r0
; CHECK:  decsp.lt      r1
; CHECK:  decsp.lt      42
; CHECK:  decsp.lt      r1+42
