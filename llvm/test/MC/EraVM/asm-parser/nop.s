; RUN: llvm-mc -triple eravm -filetype=asm %s -o - | FileCheck %s

; See sp-changes.s for special cases.

  .text
foo:

; mnemonic, predicates
  nop     r1, r2, r3
  nop.lt  r1, r2, r3

; operands (6 src modes x 4 dst modes)
  nop       r1, r2, r3
  nop       42, r2, r3
  nop       stack[r1 + 1], r2, r3
  nop       stack-[r1 + 1], r2, r3
  nop       stack-=[r1 + 1], r2, r3
  nop       code[r1 + 1], r2, r3
  nop       r1, r2, stack[r3 + 1]
  nop       42, r2, stack[r3 + 1]
  nop       stack[r1 + 1], r2, stack[r3 + 1]
  nop       stack-[r1 + 1], r2, stack[r3 + 1]
  nop       stack-=[r1 + 1], r2, stack[r3 + 1]
  nop       code[r1 + 1], r2, stack[r3 + 1]
  nop       r1, r2, stack-[r3 + 1]
  nop       42, r2, stack-[r3 + 1]
  nop       stack[r1 + 1], r2, stack-[r3 + 1]
  nop       stack-[r1 + 1], r2, stack-[r3 + 1]
  nop       stack-=[r1 + 1], r2, stack-[r3 + 1]
  nop       code[r1 + 1], r2, stack-[r3 + 1]
  nop       r1, r2, stack+=[r3 + 1]
  nop       42, r2, stack+=[r3 + 1]
  nop       stack[r1 + 1], r2, stack+=[r3 + 1]
  nop       stack-[r1 + 1], r2, stack+=[r3 + 1]
  nop       stack-=[r1 + 1], r2, stack+=[r3 + 1]
  nop       code[r1 + 1], r2, stack+=[r3 + 1]

; COM: Autogenerated checks below, see README.md.
; CHECK:  .text
; CHECK:foo:

; CHECK:  nop   r1, r2, r3
; CHECK:  nop.lt        r1, r2, r3

; CHECK:  nop   r1, r2, r3
; CHECK:  nop   42, r2, r3
; CHECK:  nop   stack[1 + r1], r2, r3
; CHECK:  nop   stack-[1 + r1], r2, r3
; CHECK:  nop   stack-=[1 + r1], r2, r3
; CHECK:  nop   code[r1+1], r2, r3
; CHECK:  nop   r1, r2, stack[1 + r3]
; CHECK:  nop   42, r2, stack[1 + r3]
; CHECK:  nop   stack[1 + r1], r2, stack[1 + r3]
; CHECK:  nop   stack-[1 + r1], r2, stack[1 + r3]
; CHECK:  nop   stack-=[1 + r1], r2, stack[1 + r3]
; CHECK:  nop   code[r1+1], r2, stack[1 + r3]
; CHECK:  nop   r1, r2, stack-[1 + r3]
; CHECK:  nop   42, r2, stack-[1 + r3]
; CHECK:  nop   stack[1 + r1], r2, stack-[1 + r3]
; CHECK:  nop   stack-[1 + r1], r2, stack-[1 + r3]
; CHECK:  nop   stack-=[1 + r1], r2, stack-[1 + r3]
; CHECK:  nop   code[r1+1], r2, stack-[1 + r3]
; CHECK:  nop   r1, r2, stack+=[1 + r3]
; CHECK:  nop   42, r2, stack+=[1 + r3]
; CHECK:  nop   stack[1 + r1], r2, stack+=[1 + r3]
; CHECK:  nop   stack-[1 + r1], r2, stack+=[1 + r3]
; CHECK:  nop   stack-=[1 + r1], r2, stack+=[1 + r3]
; CHECK:  nop   code[r1+1], r2, stack+=[1 + r3]
